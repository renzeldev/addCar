<!-- UI for PostListComponent

 Initially powered by Stantum Angular Utils.
 Want to dramatically increase your development speed too? Visit https://www.stantum.cz/development-automation -->

<h4>Posts</h4>
<div *ngIf="!pageWrapper || pageWrapper.totalCount < 1">
  Empty list
</div>
<div *ngIf="pageWrapper && pageWrapper.totalCount > 0">
  Total items: {{pageWrapper.totalCount}}&nbsp;Current page: {{pageWrapper.currentPage}}
</div>
<nav *ngIf="pager.pages && pager.pages.length && pager.pages.length > 1" aria-label="Posts page navigation top">
  <!-- pager -->
  <ul class="pagination">
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
      <a class="page-link" [routerLink]="['/content-management/posts/page/1']">First</a>
    </li>
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', (pager.currentPage - 1)]">Previous</a>
    </li>
    <li class="page-item" *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', page]">{{page}}</a>
    </li>
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', (pager.currentPage + 1)]">Next</a>
    </li>
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', pager.totalPages]">Last</a>
    </li>
  </ul>
</nav>
<div *ngFor="let item of posts">
  <div class="row list-entry">
    <div class="col-lg-4">
      <div>
        <h4>
          <a [routerLink]="['/content-management/posts', item.uid]">{{item.title}}</a>
          <span *ngIf="item.isPublished" class="badge badge-pill badge-success status-badge">Published</span>
          <span *ngIf="!item.isPublished" class="badge badge-pill badge-danger status-badge">Draft</span>
        </h4>
        <p class="line-clamp">{{item.brief}}</p>
        <a [routerLink]="" class="link-default" (click)="clonePost(item.uid)" title="Clone"><i class="far fa-clone link-add"></i></a>&nbsp;
        <a [routerLink]="" class="link-remove" (click)="deletePost(item.uid)" title="Remove"><i class="far fa-trash-alt link-remove"></i></a>&nbsp;
      </div>
    </div>
    <div class="col-lg-2"></div>
    <div class="col-lg-6">
      <div>
        <div *ngIf="item.imageBase64" class="image-item">
          <img [src]="(item.imageBase64 | imageBase64ToSrc)" style="max-height: 100px; width: auto">
        </div>
      </div>
    </div>
  </div>
  <br/>
  <br/>
</div>
<nav *ngIf="pager.pages && pager.pages.length && pager.pages.length > 1" aria-label="Posts page navigation bottom">
  <!-- pager -->
  <ul class="pagination">
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
      <a class="page-link" [routerLink]="['/content-management/posts/page/1']">First</a>
    </li>
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', (pager.currentPage - 1)]">Previous</a>
    </li>
    <li class="page-item" *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', page]">{{page}}</a>
    </li>
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', (pager.currentPage + 1)]">Next</a>
    </li>
    <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
      <a class="page-link" [routerLink]="['/content-management/posts/page', pager.totalPages]">Last</a>
    </li>
  </ul>
</nav>
