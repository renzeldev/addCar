<!-- UI for PageListComponent

 Initially powered by Stantum Angular Utils.
 Want to dramatically increase your development speed too? Visit https://www.stantum.cz/development-automation -->

<h4>Pages</h4>
<br />
<app-page-search *ngIf="!isFranchiseeUser"></app-page-search>
<br />
<div class="list-wrapper">
  <div class="list-info">
    <div *ngIf="pageWrapper && pageWrapper.totalCount > 0">
      Total items: {{pageWrapper.totalCount}}&nbsp;Current page: {{pageWrapper.currentPage}}
    </div>
  </div>
  <nav *ngIf="pager.pages && pager.pages.length && pager.pages.length > 1"
       aria-label="Franchises page navigation bottom">
    <ul class="pagination mt-1">
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
        <a class="page-link"
           [routerLink]="['/content-management', 'pages', 'page', (pager.currentPage - 1)]" [queryParams]="{franchiseeUid:franchiseeUid}">
          <i class="fas fa-long-arrow-alt-left"></i>
        </a>
      </li>
      <li class="page-item" *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
        <a class="page-link" [routerLink]="['/content-management','pages', 'page', page]" [queryParams]="{franchiseeUid:franchiseeUid}">{{page}}</a>
      </li>
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
        <a class="page-link"
           [routerLink]="['/content-management','pages', 'page', (pager.currentPage + 1)]" [queryParams]="{franchiseeUid:franchiseeUid}">
          <i class="fas fa-long-arrow-alt-right"></i>
        </a>
      </li>
    </ul>
  </nav>
</div>
<div class="table-responsive">
  <table class="table table-hover">
    <thead>
      <tr>
        <th class="col-left">Page name</th>
        <th class="col-left">Url</th>
        <th class="col-left">Title (en)</th>
        <th class="text-right">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of pages">
        <td class="col-left">
          <a [routerLink]="['/content-management', 'pages', item.uid]" class="link-remove">
            {{item.name}}
          </a>
        </td>
        <td class="col-right">{{item.url}}</td>
        <td></td>
        <td class="text-right">
          <div *ngIf="!item.isSiteStructure" class="link-remove" title="Remove" (click)="deletePage(item.uid)">
            <i class="far fa-trash-alt"></i>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="list-wrapper">
  <div class="list-info mt-1">
    <div *ngIf="!pageWrapper || pageWrapper.totalCount < 1">
      Empty list
    </div>
    <div *ngIf="pageWrapper && pageWrapper.totalCount > 0">
      Total items: {{pageWrapper.totalCount}}&nbsp;Current page: {{pageWrapper.currentPage}}
    </div>
  </div>
  <nav *ngIf="pager.pages && pager.pages.length && pager.pages.length > 1"
       aria-label="Franchises page navigation bottom">
    <ul class="pagination mt-1">
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
        <a class="page-link"
           [routerLink]="['/content-management', 'pages', 'page', (pager.currentPage - 1)]" [queryParams]="{franchiseeUid:franchiseeUid}">
          <i class="fas fa-long-arrow-alt-left"></i>
        </a>
      </li>
      <li class="page-item" *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
        <a class="page-link" [routerLink]="['/content-management', 'pages', 'page', page]" [queryParams]="{franchiseeUid:franchiseeUid}">{{page}}</a>
      </li>
      <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
        <a class="page-link"
           [routerLink]="['/content-management', 'pages', 'page', (pager.currentPage + 1)]" [queryParams]="{franchiseeUid:franchiseeUid}">
          <i class="fas fa-long-arrow-alt-right"></i>
        </a>
      </li>
    </ul>
  </nav>
</div>
